{% extends 'base.html' %}

{% block sub_content %}

<div class="container-fluid text-center" style="width: 500px">
  <div class="form">
    <div class="row">
      <div class="col-md-12">
        <p><h5>{{ message }}</h5></p>
        <p><h5>{{ result }}</h5></p>
        <canvas id="myChart"></canvas>
        <p><h5>おヌシは「{{ type_name }}」じゃ。</h5></p>
        <a href="http://twitter.com/share?url=共有したいURL&text=まだエロ診断メーカーであそんでないの？&hashtags=エロ診断メーカー" target=”_blank”><img id="Twitter" src="../static/images/twitter.png" alt="シェア" style="height: 50px; width: 50px;"></a>
      </div>
    </div>
  </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.bundle.min.js"></script>  
<script>
    var color = Chart.helpers.color;
    var ctx = document.getElementById("myChart");
    var myChart = new Chart(ctx, {
              type: 'radar',
              data: {
                 labels: [{% for item in labels %}
                          "{{item}}",
                          {% endfor %}],
                 datasets: [{
                   label: "おぬしの性格",
                   backgroundColor: color('rgb(255, 99, 132)').alpha(0.5).rgbString(),
                   borderColor: 'rgb(255, 99, 132)',
                   pointBackgroundColor: 'rgb(255, 99, 132)',
                   data: [{% for item in character %}
                          "{{item}}",
                          {% endfor %}]
                   }]   //}]}
              },
              options: {
                  responsive: true,
                  maintainAspectRatio: false,
                  //legend: {position: 'bottom'}
                  scale: {
                    pointLabels: {
                      fontsize: 20      //グラフの各項目の大きさ
                      //fontColor: 'rgb(255, 205, 86)'
                    }
                  }
                 }
              }
            );
    ctx.canvas.height = 200;      
</script>

{% endblock %}
